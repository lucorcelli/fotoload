<!DOCTYPE html> <html lang="pt-br"> <head> <meta charset="UTF-8" /> <title>Fotoload - Todos os Produtos</title> <style> body { font-family: Arial, sans-serif; background: #f9f9f9; padding: 20px; } h1 { text-align: center; color: #333; } .filtro { text-align: center; margin-bottom: 20px; } input[type="number"], input[type="text"], select { padding: 6px; margin: 0 5px; } button { padding: 6px 10px; cursor: pointer; } .grid { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; } .card { background: white; border-radius: 8px; box-shadow: 0 0 10px #ccc; width: 250px; padding: 15px; text-align: center; } .card img { width: 100%; height: 160px; object-fit: cover; border-radius: 6px; } .nota { font-size: 1.1em; color: #ffa500; margin-top: 5px; } </style> </head> <body> <div id="menu"></div> <script> fetch('menu.html') .then(res => res.text()) .then(html => { document.getElementById('menu').innerHTML = html; }); </script> <h1>üõçÔ∏è Todos os Produtos</h1> <div class="filtro"> <label for="minNota">Nota m√≠nima:</label> <input type="number" id="minNota" min="0" max="100" value="0" /> <label for="categoria">Categoria:</label> <select id="categoria"> <option value="">Todas</option> <option value="C√¢meras DSLR">C√¢meras DSLR</option> <option value="Lentes">Lentes</option> </select> <label for="busca">Buscar:</label> <input type="text" id="busca" placeholder="Produto, c√≥digo de barras, etc." /> <button onclick="carregarProdutos()">Filtrar</button> </div> <div class="grid" id="produtos"></div>

<script> function carregarProdutos() { const minNota = document.getElementById('minNota').value; const categoria = document.getElementById('categoria').value; const busca = document.getElementById('busca').value.toLowerCase();

  fetch('https://fotoload-api.onrender.com/produtos/destaques')
    .then(res => res.json())
    .then(produtos => {
      const grid = document.getElementById('produtos');
      grid.innerHTML = '';
      produtos
        .filter(p => (!minNota || p.nota_atual >= minNota) &&
                    (!categoria || p.categoria === categoria) &&
                    (!busca || p.nome.toLowerCase().includes(busca) ||
                     (p.codigo_barras && p.codigo_barras.includes(busca))))
        .forEach(p => {
          grid.innerHTML += `
            <div class="card">
              <img src="${p.fotos && p.fotos.length ? p.fotos[0] : '/imagens/sem-imagem.jpg'}" />
              <h3>${p.nome}</h3>
              <p>${p.descricao || 'Sem descri√ß√£o'}</p>
              <div class="nota">‚≠ê ${p.nota_atual || '‚Äì'}</div>
            </div>
          `;
        });
    })
    .catch(err => {
      console.error('Erro ao buscar produtos:', err);
      document.getElementById('produtos').innerHTML =
        '<p>Erro ao carregar os produtos. Verifique a API.</p>';
    });
}

// Carrega os produtos na abertura
carregarProdutos();

</script> </body> </html>
